<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linuxmint docs</title>
    <meta name="description" content="The offical linux mint developer documentation">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.DE594t3p.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.BymiSmKy.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BDfDnotM.js">
    <link rel="modulepreload" href="/assets/chunks/framework.Cd-3tpCq.js">
    <link rel="modulepreload" href="/assets/cinnamon_xlet-settings.md.Dcf-lJqJ.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-b91a21e9><!--[--><!--]--><!--[--><span tabindex="-1" data-v-d3906354></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-d3906354>Skip to content</a><!--]--><!----><header class="VPNav" data-v-b91a21e9 data-v-1cff14d0><div class="VPNavBar" data-v-1cff14d0 data-v-0ec8cc1b><div class="wrapper" data-v-0ec8cc1b><div class="container" data-v-0ec8cc1b><div class="title" data-v-0ec8cc1b><div class="VPNavBarTitle has-sidebar" data-v-0ec8cc1b data-v-20dad3b9><a class="title" href="/" data-v-20dad3b9><!--[--><!--]--><!----><span data-v-20dad3b9>Linuxmint docs</span><!--[--><!--]--></a></div></div><div class="content" data-v-0ec8cc1b><div class="content-body" data-v-0ec8cc1b><!--[--><!--]--><div class="VPNavBarSearch search" data-v-0ec8cc1b><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-0ec8cc1b data-v-1d4dc5e9><span id="main-nav-aria-label" class="visually-hidden" data-v-1d4dc5e9> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-1d4dc5e9 data-v-abc3b867><!--[--><span data-v-abc3b867>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/community.html" tabindex="0" data-v-1d4dc5e9 data-v-abc3b867><!--[--><span data-v-abc3b867>community</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-0ec8cc1b data-v-ed6ebae1><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-ed6ebae1 data-v-831222da data-v-e1d2a8c0><span class="check" data-v-e1d2a8c0><span class="icon" data-v-e1d2a8c0><!--[--><span class="vpi-sun sun" data-v-831222da></span><span class="vpi-moon moon" data-v-831222da></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-0ec8cc1b data-v-d5dc2b01 data-v-eaa7e9e0><!--[--><a class="VPSocialLink no-icon" href aria-label="github" target="_blank" rel="noopener" data-v-eaa7e9e0 data-v-e07d7ae4><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-0ec8cc1b data-v-e9ba7072 data-v-633e8ed5><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-633e8ed5><span class="vpi-more-horizontal icon" data-v-633e8ed5></span></button><div class="menu" data-v-633e8ed5><div class="VPMenu" data-v-633e8ed5 data-v-3606efb8><!----><!--[--><!--[--><!----><div class="group" data-v-e9ba7072><div class="item appearance" data-v-e9ba7072><p class="label" data-v-e9ba7072>Appearance</p><div class="appearance-action" data-v-e9ba7072><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-e9ba7072 data-v-831222da data-v-e1d2a8c0><span class="check" data-v-e1d2a8c0><span class="icon" data-v-e1d2a8c0><!--[--><span class="vpi-sun sun" data-v-831222da></span><span class="vpi-moon moon" data-v-831222da></span><!--]--></span></span></button></div></div></div><div class="group" data-v-e9ba7072><div class="item social-links" data-v-e9ba7072><div class="VPSocialLinks social-links-list" data-v-e9ba7072 data-v-eaa7e9e0><!--[--><a class="VPSocialLink no-icon" href aria-label="github" target="_blank" rel="noopener" data-v-eaa7e9e0 data-v-e07d7ae4><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-0ec8cc1b data-v-260751ae><span class="container" data-v-260751ae><span class="top" data-v-260751ae></span><span class="middle" data-v-260751ae></span><span class="bottom" data-v-260751ae></span></span></button></div></div></div></div><div class="divider" data-v-0ec8cc1b><div class="divider-line" data-v-0ec8cc1b></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-b91a21e9 data-v-1990dd4a><div class="container" data-v-1990dd4a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-1990dd4a><span class="vpi-align-left menu-icon" data-v-1990dd4a></span><span class="menu-text" data-v-1990dd4a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-1990dd4a data-v-a6f90842><button data-v-a6f90842>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-b91a21e9 data-v-514c0316><div class="curtain" data-v-514c0316></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-514c0316><span class="visually-hidden" id="sidebar-aria-label" data-v-514c0316> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c5c0ec3d><section class="VPSidebarItem level-0" data-v-c5c0ec3d data-v-ac3da736><div class="item" role="button" tabindex="0" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><h2 class="text" data-v-ac3da736>Introduction</h2><!----></div><div class="items" data-v-ac3da736><!--[--><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/introduction/index.html" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>welcome</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/introduction/contributing.html" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>how to contribute</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/introduction/guidelines.html" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>guidelines</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/introduction/building.html" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>How to building mint apps</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/introduction/romeo.html" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>romeo</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/introduction/reporting-an-issue.html" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>reporting issues</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c5c0ec3d><section class="VPSidebarItem level-0 has-active" data-v-c5c0ec3d data-v-ac3da736><div class="item" role="button" tabindex="0" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><h2 class="text" data-v-ac3da736>cinnamon</h2><!----></div><div class="items" data-v-ac3da736><!--[--><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/cinnamon/cinnamon.html" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>What cinnamon is ?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/cinnamon/building-cinamon.html" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>How to build cinnamon</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/cinnamon/write-applet.html" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Writting applets</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/cinnamon/xlet-versioning.html" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Applet versioning</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/cinnamon/xlet-settings.html" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Applet, desklet and extension settings</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/cinnamon/documentating-tutorial.html" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Writting Documentation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/cinnamon/documentating-source.html" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>Documenting the source</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c5c0ec3d><section class="VPSidebarItem level-0" data-v-c5c0ec3d data-v-ac3da736><div class="item" role="button" tabindex="0" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><h2 class="text" data-v-ac3da736>xapps</h2><!----></div><div class="items" data-v-ac3da736><!--[--><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/xapps/xapps.html" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>xapps</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c5c0ec3d><section class="VPSidebarItem level-0" data-v-c5c0ec3d data-v-ac3da736><!----><div class="items" data-v-ac3da736><!--[--><div class="VPSidebarItem level-1 is-link" data-v-ac3da736 data-v-ac3da736><div class="item" data-v-ac3da736><div class="indicator" data-v-ac3da736></div><a class="VPLink link link" href="/mint-tools/mint-tools.html" data-v-ac3da736><!--[--><p class="text" data-v-ac3da736>mint tools</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-b91a21e9 data-v-23efeb3f><div class="VPDoc has-sidebar has-aside" data-v-23efeb3f data-v-ffa27755><!--[--><!--]--><div class="container" data-v-ffa27755><div class="aside" data-v-ffa27755><div class="aside-curtain" data-v-ffa27755></div><div class="aside-container" data-v-ffa27755><div class="aside-content" data-v-ffa27755><div class="VPDocAside" data-v-ffa27755 data-v-9fabdbab><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-9fabdbab data-v-ff766cb7><div class="content" data-v-ff766cb7><div class="outline-marker" data-v-ff766cb7></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-ff766cb7>On this page</div><ul class="VPDocOutlineItem root" data-v-ff766cb7 data-v-f3e7a274><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-9fabdbab></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-ffa27755><div class="content-container" data-v-ffa27755><!--[--><!--]--><main class="main" data-v-ffa27755><div style="position:relative;" class="vp-doc _cinnamon_xlet-settings" data-v-ffa27755><div><h2 id="applet-desklet-and-extension-settings" tabindex="-1">Applet, desklet and extension settings <a class="header-anchor" href="#applet-desklet-and-extension-settings" aria-label="Permalink to &quot;Applet, desklet and extension settings&quot;">​</a></h2><h3 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;Introduction&quot;">​</a></h3><p>This document is intended to serve as a guide and reference to the new Cinnamon applet, desklet, and extension settings API, new for Cinnamon 1.8. The goal of this API was to provide for an easy to implement and use storage system for settings.</p><p>We will start with a broad overview of the system, and then work our way into the details.</p><h3 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h3><p>In a nutshell, your applet will provide a JSON file that defines various setting types and their details, including a key identifier, description, default value, minimum and maximums (in the case of numeric types) and other options pertinent to each type of setting.</p><p>When your applet is added to the panel, you instantiate a settings provider, which looks for this file, parses it, applies default values, and saves an &quot;instance&quot; copy to work with.</p><p>Once that setting provider is initialized, your applet can then bind properties to the various setting keys from that file, and use them to set up how your applet will look, feel, and operate. There are a few types of bindings available, depending on how you want your applet to control or be controlled by these settings.</p><p>That is the &quot;live&quot;, applet side of the picture.</p><p>The other side of this, is that same JSON file you created for your applet is also used by Cinnamon Settings (or System Settings as it will be known in 1.8,) to automatically generate a configuration panel to adjust all these settings. There are a number of formatting options, as well as the capability for some settings to be &quot;dependent&quot; on another setting - allowing you to deactivate or &quot;grey out&quot; settings that cannot be used in certain situations. Changes made to this panel are saved immediately, and can be handled by the applet via callbacks that you defined in your applet.</p><h3 id="the-settings-schema-json-file" tabindex="-1">The settings-schema.json file <a class="header-anchor" href="#the-settings-schema-json-file" aria-label="Permalink to &quot;The settings-schema.json file&quot;">​</a></h3><p>Here’s a basic example of a <code class="code">settings-schema.json</code> file, that can define settings for your applet:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;width&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;scale&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;min&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;max&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;step&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Amount of space in pixels&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>The most important item here to start is the key: <code class="code">&quot;width&quot;</code>. This is what your applet is going to specify when binding a property to the setting provider. Within the <code class="code">width</code> node are the various details specific to that key, and differ depending on what type of setting you’ll be using.</p><p>In this case:</p><ul><li><code class="code">type</code>: defines what type of widget you want to use to adjust this value. In general the names of these types will be similar to what GTK uses, but always lowercase, and single word.</li><li><code class="code">default</code>: defines what you want your default, or starting value to be for this setting. Since scale defines a numeric type, the default will be a numeral (no quotations). You can use floating point, but you must have a leading 0 for floating numbers less than 1 (i.e. 0.1).</li><li><code class="code">min</code>: the lower limit for your setting.</li><li><code class="code">max</code>: the upper limit for your setting.</li><li><code class="code">step</code>: the step amount for this setting - how much the value changes for each <span class="quote">“<span class="quote">click</span>”</span> or notch of the widget.</li><li><code class="code">description</code>: The description you want by your setting in the configuration panel, to explain what the setting controls.</li></ul><p>The JSON file must be valid - it must pass any structure tests, not have extra commas, and so forth. There are a number of tools available online where you can paste the contents of your file in, and it will tell you if it is valid or not, and point out problem areas. One such site is <a class="ulink" href="http://jsonlint.com/" target="_top"><a href="http://jsonlint.com/" target="_blank" rel="noreferrer">http://jsonlint.com/</a></a>.</p><p>So now we’ve got a <code class="code">settings-schema.json</code> file. It goes in your applet directory, alongside the <code class="code">metadata.json</code>, <code class="code">applet.js</code>, and any other files you have.</p><h3 id="preparing-your-applet" tabindex="-1">Preparing your applet: <a class="header-anchor" href="#preparing-your-applet" aria-label="Permalink to &quot;Preparing your applet:&quot;">​</a></h3><p>The first thing you need to do is add Settings to your <span class="quote">“<span class="quote">imports</span>”</span> at the top of your applet:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Settings</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> imports.ui.settings;</span></span></code></pre></div><p>You’ll also need to ensure that you’re passing along the <code class="code">instanceId</code> of the applet from the <code class="code">main()</code> function:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">orientation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">panel_height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">instanceId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> myApplet </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyApplet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(metadata, orientation, panel_height, instanceId);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> myApplet;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>and</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyApplet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">orientation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">panel_height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">instanceId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(metadata, orientation, panel_height, instanceId);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MyApplet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    __proto__: Applet.TextIconApplet.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    _init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">orientation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">panel_height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">instanceId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //....</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //....</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //....</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span></code></pre></div><p>Note: Desklets only need to pass <code class="code">metadata</code> and <code class="code">instanceId</code> through this chain, and extensions have no need of any of this.</p><h3 id="initializing-the-settings-provider" tabindex="-1">Initializing the settings provider <a class="header-anchor" href="#initializing-the-settings-provider" aria-label="Permalink to &quot;Initializing the settings provider&quot;">​</a></h3><p>Now, to actually initialize your settings provider, usually somewhere in the <code class="code">_init</code> method of <code class="code">MyApplet</code>, you’ll put something like this, which will use your applet’s own instance variables:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.settings </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Settings.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AppletSettings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;settings-example@cinnamon.org&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  instanceId,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>If you prefer to have your preferences in a separate object, you can do like this, and the object will be populated with your settings variables:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._preferences </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.settings </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Settings.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AppletSettings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">._preferences,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;settings-example@cinnamon.org&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  instanceId,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>In other words, the object reference you pass in can be any object. The UUID there can be just hardcoded, or can be drawn from the metadata (<code class="code">metadata[&quot;uuid&quot;]</code>), whichever you prefer. You can also leave off the instanceId if you haven’t defined your applet as multiple-instance capable.</p><p>Obviously, if instead of an applet, you have a desklet or an extension, you would use <code class="code">new Settings.DeskletSettings</code> and <code class="code">new Settings.ExtensionSettings</code> respectively.</p><h3 id="binding-your-settings" tabindex="-1">Binding your settings <a class="header-anchor" href="#binding-your-settings" aria-label="Permalink to &quot;Binding your settings&quot;">​</a></h3><p>Since we only have one setting in our example, this will be very simple:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.settings.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bindProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Settings.BindingDirection.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">IN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;width&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;width&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.on_settings_changed,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>To explain:</p><ul><li><code class="code">.bindProperty</code>: tells the settings provider you want to bind one of your settings keys to an applet property.</li><li><code class="code">Settings.BindingDirection.IN</code>: This tells the setting provider that you want your applet property to be updated by changes in the configuration file. Other flags exist to provide the opposite direction, as well as bidirectional updating. More on those later.</li><li><code class="code">&quot;width&quot;</code>: This is the key value you defined in your settings-schema.json file that you want to match up with.</li><li><code class="code">&quot;width&quot;</code>: This is the name of the property you want to store the value in your applet. You’ll refer to it traditionally as <code class="code">this.width</code> from here on out in the applet code.</li><li><code class="code">this.on_settings_changed</code>: This is the method you want called when the setting value changes. <span class="emphasis"><em>NOTE: The property (<code class="code">this.width</code>) already contains the new value when this method is called. All you have to do is act on it.</em></span></li><li><code class="code">null</code>: this is optional - it can be left off entirely, or used to pass any extra object to the callback if desired.</li></ul><p>That’s basically it - your property, <code class="code">this.width</code>, or <code class="code">this._preferences.width</code>, is now managed by the setting provider, and will be automatically updated when the configuration changes, and your callback method automatically called so you can deal with the change.</p><h3 id="editing-your-configuration" tabindex="-1">Editing your configuration: <a class="header-anchor" href="#editing-your-configuration" aria-label="Permalink to &quot;Editing your configuration:&quot;">​</a></h3><p>Once you’ve activated your applet, you can then go in to Cinnamon Settings, Applets, and the option to Configure will be displayed when you select it.</p><p>For our sample, we’d see:</p><p>This has been automatically generated by our JSON file. If we adjust the scale, the JSON config file is rewritten, the settings provider for our applet notices, and reloads the new value into the applet’s <code class="code">this.width</code> property, and <code class="code">this.on_settings_changed()</code> is called.</p><p>Alternatively, this can be launched by running the command <code class="code">cinnamon-settings applets <em>uuid</em></code> (with obvious modifications for desklets and extensions).</p><h3 id="more-information" tabindex="-1">More information <a class="header-anchor" href="#more-information" aria-label="Permalink to &quot;More information&quot;">​</a></h3><p>The available settings items and widgets can be found an the <a class="xref" href="xlet-settings-ref.html" title="Applet, desklet and extension settings reference"><i>Applet, desklet and extension settings reference</i></a>, alongside with some extra options. The settings objects themselves are <code class="code">Settings.AppletSettings</code>, <code class="code">Settings.DeskletSettings</code> and <code class="code">Settings.ExtensionSettings</code>, which all inherit <code class="code">Settings._provider</code>. Most useful functions will be found inside the <code class="code">_provider</code> object.</p></div></div></main><footer class="VPDocFooter" data-v-ffa27755 data-v-8b244c14><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-8b244c14><span class="visually-hidden" id="doc-footer-aria-label" data-v-8b244c14>Pager</span><div class="pager" data-v-8b244c14><a class="VPLink link pager-link prev" href="/cinnamon/xlet-versioning.html" data-v-8b244c14><!--[--><span class="desc" data-v-8b244c14>Previous page</span><span class="title" data-v-8b244c14>Applet versioning</span><!--]--></a></div><div class="pager" data-v-8b244c14><a class="VPLink link pager-link next" href="/cinnamon/documentating-tutorial.html" data-v-8b244c14><!--[--><span class="desc" data-v-8b244c14>Next page</span><span class="title" data-v-8b244c14>Writting Documentation</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"cinnamon_building-cinamon.md\":\"C9tTgC05\",\"cinnamon_cinnamon-ref.md\":\"D8dsgBci\",\"cinnamon_cinnamon.md\":\"DzLLrTfu\",\"cinnamon_cjs-optimizations.md\":\"CAHZy54M\",\"cinnamon_documenting-source.md\":\"CRZQ1wW6\",\"cinnamon_documenting-tutorial.md\":\"CJb6luMc\",\"cinnamon_making-themes.md\":\"DpPdHbeR\",\"cinnamon_using-documentation.md\":\"BugntAI0\",\"cinnamon_write-applet.md\":\"DHtmVuYk\",\"cinnamon_xlet-settings-ref.md\":\"2kOm4Qzi\",\"cinnamon_xlet-settings.md\":\"Dcf-lJqJ\",\"cinnamon_xlet-versioning.md\":\"DIFhqFe-\",\"community.md\":\"WfqQRCnN\",\"index.md\":\"CABx0qBI\",\"introduction_building.md\":\"DMqflbuo\",\"introduction_contributing.md\":\"Do1RAl3f\",\"introduction_guidelines.md\":\"ti_iA0Ea\",\"introduction_index.md\":\"BUChxe_g\",\"introduction_reporting-an-issue.md\":\"C2-PH9zg\",\"introduction_romeo.md\":\"DsMQ6IuO\",\"mint-tools_mint-tools.md\":\"DsSaOPjl\",\"xapps_xapps.md\":\"CJAJEq-e\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Linuxmint docs\",\"description\":\"The offical linux mint developer documentation\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"community\",\"link\":\"/community\"}],\"sidebar\":[{\"text\":\"Introduction\",\"items\":[{\"text\":\"welcome\",\"link\":\"/introduction/index.md\"},{\"text\":\"how to contribute\",\"link\":\"/introduction/contributing\"},{\"text\":\"guidelines\",\"link\":\"/introduction/guidelines\"},{\"text\":\"How to building mint apps\",\"link\":\"/introduction/building\"},{\"text\":\"romeo\",\"link\":\"/introduction/romeo\"},{\"text\":\"reporting issues\",\"link\":\"/introduction/reporting-an-issue\"}]},{\"text\":\"cinnamon\",\"items\":[{\"text\":\"What cinnamon is ?\",\"link\":\"/cinnamon/cinnamon\"},{\"text\":\"How to build cinnamon\",\"link\":\"/cinnamon/building-cinamon\"},{\"text\":\"Writting applets\",\"link\":\"/cinnamon/write-applet\"},{\"text\":\"Applet versioning\",\"link\":\"/cinnamon/xlet-versioning\"},{\"text\":\"Applet, desklet and extension settings\",\"link\":\"/cinnamon/xlet-settings\"},{\"text\":\"Writting Documentation\",\"link\":\"/cinnamon/documentating-tutorial\"},{\"text\":\"Documenting the source\",\"link\":\"/cinnamon/documentating-source\"}]},{\"text\":\"xapps\",\"items\":[{\"text\":\"xapps\",\"link\":\"/xapps/xapps\"}]},{\"text\":\"mint tools\",\"link\":\"/mint-tools/mint-tools\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>